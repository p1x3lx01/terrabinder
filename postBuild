#!/bin/bash

# تحديد مكان تثبيت Go
wget https://go.dev/dl/go1.21.4.linux-amd64.tar.gz
tar -xvf go1.21.4.linux-amd64.tar.gz
mv go /usr/local

# تعيين المتغيرات البيئية لـ Go
export GOROOT=/usr/local/go
export GOPATH=$HOME/go
export GOBIN=$GOPATH/bin
export PATH=$PATH:$GOROOT/bin:$GOBIN
mkdir -p $GOPATH $GOBIN

echo 'export GOROOT=/usr/local/go' >> $HOME/.bashrc
echo 'export GOPATH=$HOME/go' >> $HOME/.bashrc
echo 'export GOBIN=$GOPATH/bin' >> $HOME/.bashrc
echo 'export PATH=$PATH:$GOROOT/bin:$GOBIN' >> $HOME/.bashrc

# تحميل وبناء المشروع
echo "تحميل وبناء Terra Core..."
git clone https://github.com/classic-terra/core/
cd core
git fetch --all --force
git checkout v2.3.0
make build && make install
